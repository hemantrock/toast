
@{
    Layout = null;
}
<div id="jqxgrid" class="jqx-tbl-container">
</div>
<script src="~/Scripts/PageJS/Masters/ActivityPermissions/MenuPerm.js"></script>
<script>
    //$(document).ready(function () {
    //    $.ajax({
    //        type: "GET",
    //        url: "/ActivityPermissions/MenuPermissionData",
    //        cache: false,
    //        beforeSend: function () { },
    //        complete: function () { },
    //        success: function (result) {
    //            var json = result;
    //            var obj = $.parseJSON(json);
    //            columns = obj[0];
    //            console.log(columns);
    //            var datafields = new Array();
    //            for (var i = 0; i < columns.length; i++) {
    //                datafields.push({ name: columns[i].datafield, type: columns[i].datatype });
    //            }
    //            var rows = obj[1];
    //            var source =
    //            {
    //                datatype: "json",
    //                datafields: datafields,
    //                hierarchy:
    //                {
    //                    keyDataField: { name: 'UniqueID' },
    //                    parentDataField: { name: 'MainMenuId' }
    //                },
    //                id: 'UniqueID',
    //                localdata: rows
    //            };
    //            var dataAdapter = new $.jqx.dataAdapter(source);
    //            
    //            $("#treeGrid").jqxTreeGrid(
    //            {
    //                width: "100%",
    //                source: dataAdapter,
    //                columnsResize: true,
    //                filterable: true,
    //                editSettings: { saveOnPageChange: true, saveOnBlur: true, saveOnSelectionChange: false, cancelOnEsc: true, saveOnEnter: true, editOnDoubleClick: true, editOnF2: true },
    //                //sortable: true,
    //                pageable: false,
    //                editable: true,
    //                showtoolbar: true,
    //                autoRowHeight: true,
    //                rendertoolbar: function (statusbar) {
    //                    // appends buttons to the status bar.
    //                    var container = $("<div class='jqx-header-wrapper' style='overflow: hidden; position: relative; margin: 5px;'></div>");
    //                    var tableHeading = $("<div style='float: left; margin-left: 5px;' class='heading-lbl'><span style='margin-left: 4px; position: relative; top: -3px;'>Menu Permissions</span></div>");
    //                    var editButton = $("<div class='jqx-header-btn btn btn-primary' style='margin-left: 5px;'><span style='margin-left: 4px; position: relative; top: -3px;'><span class='glyphicon glyphicon-pencil' aria-hidden='true'></span> Update Menu Permissions</span></div>");

    //                    container.append(tableHeading);
    //                    container.append(editButton);

    //                    statusbar.append(container);
    //                    editButton.jqxButton({ height: 20 });

    //                    editButton.click(function (event) {
    //                        EditRecord();
    //                    });
    //                },
    //                ready: function () {
    //                    //PageSize = dataAdapter.records.length;
    //                    //if (PageSize > iGblNoRows) { PageSize = iGblNoRows; }
    //                    //$("#treeGrid").jqxTreeGrid({ pagesize: PageSize });
    //                    //$("#treeGrid").jqxTreeGrid({ pagesizeoptions: [PageSize, PageSize * 2, PageSize * 3] });
    //                },
    //                columns: columns
    //            });
    //        }
    //    });
    //});
</script>